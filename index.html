<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Navigate MR5</title>
  <!-- UVAâ€‘themed font -->
  <link href="https://fonts.googleapis.com/css2?family=Libre+Franklin:wght@300;500;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --uva-blue: #232D4B;
      --uva-orange: #CF5400; /* Adjusted UVA Orange for better contrast/modern feel */
      --bg-dark: #1E2A3A;
      --text-light: #FFFFFF;
      --modal-bg: rgba(0, 0, 0, 0.7); /* Semi-transparent overlay */
    }
    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      font-family:'Libre Franklin',sans-serif;
      background:var(--bg-dark);
      color:var(--text-light);
      display:flex; flex-direction:column;
      height:100vh; overflow:hidden;
    }
    header.top-bar {
      background:var(--uva-blue); /* Changed header to blue */
      color: var(--text-light);
      text-align:center;
      padding: 0.8rem 1rem; /* Slightly reduced padding */
      font-weight:700;
      font-size:1.3rem; /* Slightly reduced font size */
      position:relative; /* Needed for absolute positioning of button */
      z-index: 10; /* Ensure header is above map */
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    }
    header.top-bar .title {
        display: inline-block; /* Center title correctly */
    }
    header.top-bar button.help-btn {
      position:absolute;
      top:50%; right:1rem;
      transform:translateY(-50%);
      background: var(--uva-orange); /* Orange button */
      border:none;
      color:var(--text-light);
      font-size:0.9rem;
      padding: 0.4rem 0.8rem;
      border-radius: 4px;
      cursor:pointer;
      transition: background-color 0.3s;
    }
    header.top-bar button.help-btn:hover {
        background-color: #E66000; /* Darker orange on hover */
    }
    #map-container { /* Renamed for clarity */
      flex:1; /* Take remaining vertical space */
      position: relative; /* Needed for iframe positioning */
      background-color: var(--bg-dark); /* Match body background */
    }
    @media (max-width: 600px) {
         /* Add iframe styling */
    #map-container iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 90%;
        border: 0;
    }
    }
    @media (min-width: 601px) {
             /* Add iframe styling */
    #map-container iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        border: 0;
    }
    }

    /* Modal Styles */
    .modal {
      display:none; /* Hidden by default */
      position:fixed;
      z-index:1000; /* Above everything */
      left:0; top:0;
      width:100%; height:100%;
      overflow:auto; /* Enable scroll if needed */
      background-color: var(--modal-bg);
      animation:fadeIn .3s ease;
    }
    .modal.open { display:flex; justify-content:center; align-items:center; }
    .modal-content {
      background:var(--bg-dark);
      margin: auto;
      padding: 20px;
      border: 1px solid #888;
      width: 80%;
      max-width: 500px; /* Limit max width */
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
      position: relative;
    }
    .modal-content h2 {
      margin-top: 0;
      margin-bottom: 15px;
      color:var(--uva-orange);
    }
    .modal-content p {
      margin-bottom: 10px;
      line-height: 1.4;
    }
    .modal-content button.close-btn { /* Renamed for clarity */
      background: var(--uva-orange);
      color: white;
      padding: 8px 15px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      float: right; /* Position to the right */
      font-size: 0.9rem;
      margin-top: 15px;
      transition: background-color 0.3s;
    }
     .modal-content button.close-btn:hover {
        background-color: #E66000;
    }

    @keyframes fadeIn { from{opacity:0} to{opacity:1} }
  </style>
  <script>
    document.addEventListener('DOMContentLoaded', () => { // Removed async
      const helpButton = document.getElementById('helpButton');
      const helpModal = document.getElementById('helpModal');
      const closeButton = document.getElementById('closeModalButton');

  

      // --- Modal Logic (Remains the same) ---
      helpButton.addEventListener('click', () => {
        helpModal.classList.add('open');
      });

      closeButton.addEventListener('click', () => {
        helpModal.classList.remove('open');
      });

      // Close modal if clicking outside the content area
      window.addEventListener('click', (event) => {
        if (event.target === helpModal) {
          helpModal.classList.remove('open');
        }
      });
    });
  </script>
</head>
<body>
  <header class="top-bar">
    <span class="title">Navigate MR5</span>
    <button id="helpButton" class="help-btn">Help</button>
  </header>

  <div id="map-container">
    <!-- Re-insert iframe -->
    <iframe
        src="https://app.mappedin.com/map/67f7e217b0a41d000bb54d41?embedded=true"
        title="MR5 Interactive Map"
        allow="clipboard-write 'self' https://app.mappedin.com; web-share 'self' https://app.mappedin.com"
        scrolling="no"
        frameborder="0">
    </iframe>
  </div>

  <!-- Help Modal -->
  <div id="helpModal" class="modal">
    <div class="modal-content">
      <h2>Help &amp; Questions</h2>
      <p><strong>How do I switch floors?</strong></p>
      <p>
        Use the floor selector buttons (usually located on the top right or bottom of the map) to switch between levels.
      </p>
      <p><strong>What if the map doesn't load?</strong></p>
      <p>
        Ensure you have a stable internet connection and try refreshing the page.
      </p>
      <p><strong>Who can I contact for more support?</strong></p>
      <p>
        Visit Lena at the BME office on the 2nd floor.
      </p>

      <hr style="border-top: 1px solid var(--uva-blue); margin: 15px 0;">

      <h3>Badge Access Instructions</h3>
      <ol style="margin-left: 20px; margin-bottom: 10px;">
          <li style="margin-bottom: 5px;">
              Email Lena (BME Executive Assistant) at <a href="mailto:ued9rz@virginia.edu" style="color: var(--uva-orange);">ued9rz@virginia.edu</a>
          </li>
          <li style="margin-bottom: 5px;">
              Include the following information in email:
              <ul style="margin-left: 20px; list-style-type: disc; margin-top: 5px;">
                  <li>First and Last Name</li>
                  <li>Computing ID</li>
                  <li>9-digit-student ID</li>
                  <li>Date of until you need access (month/year)</li>
                  <li>Degree Status</li>
                  <li>Department</li>
              </ul>
          </li>
          <li style="margin-bottom: 5px;">
              BME office will reply when badge is ready for pick up in room 2010 on MR5 2nd floor.
          </li>
      </ol>

      <strong>Example Email:</strong>
      <div style="background: #2a3a4a; padding: 10px; border-radius: 4px; margin-top: 5px; font-family: monospace; font-size: 0.9em; line-height: 1.3;">
          Hello!<br><br>
          I am requesting a BME ID to gain access to my classes.<br><br>
          First and Last Name: [Your Name]<br>
          Computing ID: [Your Computing ID]<br>
          9-digit-student ID: [Your Student ID]<br>
          Date of Access: [Month Year, e.g., June 2028]<br>
          Degree Status: [e.g., Undergrad, Grad]<br>
          Department: BME<br><br>
          Thank you,<br><br>
          [Your Name]
      </div>

      <button id="closeModalButton" class="close-btn">Close</button>
    </div>
  </div>
</body>
</html>
